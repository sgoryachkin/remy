<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE tiles-definitions PUBLIC
       "-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN"
       "http://tiles.apache.org/dtds/tiles-config_2_0.dtd">

<tiles-definitions>

	<definition name="mainbanner" template="/WEB-INF/jsp/misc/mainbanner.jsp"/>
	<definition name="xhtmlvalid" template="/WEB-INF/jsp/misc/xhtmlvalid.jsp"/>

	<definition name="filter_categories" preparer="filterCategoryPreparer" template="/WEB-INF/jsp/misc/filter_categories.jsp"/>	
	<definition name="filter_parms"  template="/WEB-INF/jsp/misc/filter_params.jsp"/>
	<definition name="filter_text"  template="/WEB-INF/jsp/misc/filter_text.jsp"/>
	
	<definition name="category_all" template="/WEB-INF/jsp/misc/category_all.jsp"/>
    <definition name="categorygroup_all" preparer="categoryGroupAllPreparer" template="/WEB-INF/jsp/misc/categorygroup_all.jsp"/>
    
 <!-- Layout -->    
    
    <definition name="header" template="/WEB-INF/jsp/header.jsp">
		<put-attribute name="widget0" value="mainbanner" />
	</definition>
	
	<definition name="left" template="/WEB-INF/jsp/left.jsp">
	    <put-list-attribute name="widgets">
			<add-attribute value="filter_categories" />
		</put-list-attribute>
	</definition>
	
	<definition name="right" template="/WEB-INF/jsp/right.jsp">
		<put-attribute name="widget0" value="categorygroup_all" />
	</definition>
	
	<definition name="footer" template="/WEB-INF/jsp/footer.jsp">
	    <put-list-attribute name="widgets">
	    	<add-attribute value="xhtmlvalid"></add-attribute>
	    	<add-attribute value="categorygroup_all"></add-attribute>
	    </put-list-attribute>
	</definition>
	
	<definition name="layout" template="/WEB-INF/jsp/layout.jsp">
		<put-attribute name="header" value="header" />
		<put-attribute name="left" value="left" />
		<put-attribute name="right" value="right" />
		<put-attribute name="footer" value="footer" />
	</definition>

<!-- Content -->

    <definition name="misc/welcome/content" template="/WEB-INF/jsp/content.jsp">
		<put-attribute name="widget0" value="/WEB-INF/jsp/misc/welcome.jsp" />
	</definition>	
	<definition name="misc/welcome" extends="layout">
		<put-attribute name="title" value="Главная" />
		<put-attribute name="content" value="misc/welcome/content" />
	</definition>

    <definition name="restaurant/add/content" template="/WEB-INF/jsp/content.jsp">
		<put-attribute name="widget0" value="/WEB-INF/jsp/restaurant/add.jsp" />
	</definition>
	<definition name="restaurant/add" extends="layout">
		<put-attribute name="title" value="Добавить заведение" />
		<put-attribute name="content" value="restaurant/add/content" />
	</definition>

    <definition name="restaurant/find/content" template="/WEB-INF/jsp/content.jsp">
		<put-attribute name="widget0" value="/WEB-INF/jsp/restaurant/find.jsp" />
	</definition>
	<definition name="restaurant/find" extends="layout">
		<put-attribute name="title" value="Список заведений" />
		<put-attribute name="content" value="restaurant/find/content" />
	</definition>

    <definition name="restaurant/show/content" template="/WEB-INF/jsp/content.jsp">
		<put-attribute name="widget0" value="/WEB-INF/jsp/restaurant/show.jsp" />
	</definition>
	<definition name="restaurant/show" extends="layout">
		<put-attribute name="title" value="Заведение" />
		<put-attribute name="content" value="restaurant/show/content" />
	</definition>

</tiles-definitions>